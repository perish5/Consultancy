{% load static %}
<div class="home-blog-area section-padding30">
    <div class="container">
        <!-- Section Title -->
        <div class="row">
            <div class="col-lg-12">
                <div class="section-tittle mb-100 text-center">
                    <h2>Gallery</h2>
                    {% if request.user.is_authenticated and request.user.is_superuser %}
                    <a href="{% url 'gallery_add' %}" class="btn-green" style="cursor: pointer;">Add New Image</a>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Gallery Grid -->
        <div class="row justify-content-center">
            {% for item in gallery %}
                <div class="col-lg-4 col-md-6 mb-4 d-flex justify-content-center">
                    <div class="single-cat text-center p-2 w-100" style="height: auto;">
                        {% if item.image %}
                            <div class="gallery-image" style="overflow: hidden;">
                                <a href="{{ item.image.url }}" target="_blank" rel="noopener noreferrer">
                                    <img src="{{ item.image.url }}" alt="{{ item.image_name }}"
                                        class="img-fluid rounded shadow-sm"
                                        style="width: 100%; height: 300px; object-fit: contain;">
                                </a>
                            </div>
                        {% endif %}
                        <div class="mt-2">
                            <h6 class="fw-bold">{{ item.image_name }}</h6>
                        </div>
                    </div>
                </div>
            {% empty %}
                <p class="text-center">No images found in the gallery.</p>
            {% endfor %}
        </div>
    </div>
</div>
