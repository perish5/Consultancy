{% load static %}

<!-- Include Bootstrap CSS (adjust version as needed) -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
    .slider-area img {
        height: 500px; /* Fixed height */
        width: 100%; /* Full width of container */
        object-fit: cover; /* Crop to fit without distortion */
    }

    @media (max-width: 768px) {
        .slider-area img {
            height: 300px; /* Smaller height for mobile */
        }
    }
</style>

<div class="slider-area">
    {% if sliders %}
    <div id="sliderCarousel" class="carousel slide" data-ride="carousel" data-interval="3000">
        <div class="carousel-inner">
            {% for slide in sliders %}
            <div class="carousel-item {% if forloop.first %}active{% endif %}">
                <img src="{{ slide.image.url }}" class="d-block w-100 rounded shadow" alt="{{ slide.caption }}" loading="eager">
                <div class="carousel-caption d-none d-md-block">
                    <h5>{{ slide.caption }}</h5>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- Controls -->
        <a class="carousel-control-prev" href="#sliderCarousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#sliderCarousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
    {% else %}
        <p style="text-align: center;">No slider images available.</p>
    {% endif %}
</div>
{% if request.user.is_authenticated and request.user.is_superuser %}
<div class="button-area" style="display: flex; justify-content: flex-start; margin-top: 10px;">
    <a href="{% url 'add_slider' %}" class="btn-green" style="cursor: pointer;">Add New Image</a>
</div>
{% endif %}
<!-- Include Bootstrap JS and dependencies (jQuery and Popper for Bootstrap 4) -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"></script>
